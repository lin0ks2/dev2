<!DOCTYPE html>
<!--
  =====================================================================
  index.html ‚Äî Lexitron
  Version: 1.6.1
  Date: 2025-09-21

  Purpose:
    - Entry point for the Lexitron web app
    - Stable DOM ids expected by JS modules
    - Sections documented with clear comment dividers
  =====================================================================
-->

<html lang="uk">
<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LEXITRON</title>

<link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon-180x180.png?v=1.6.1">
  <link rel="apple-touch-icon" sizes="152x152" href="./apple-touch-icon-152x152.png?v=1.6.1">
  <link rel="apple-touch-icon" sizes="120x120" href="./apple-touch-icon-120x120.png?v=1.6.1">
  <link rel="apple-touch-icon" sizes="76x76" href="./apple-touch-icon-76x76.png?v=1.6.1">

                  <link rel="icon" type="image/png" sizes="192x192" href="./android-chrome-192x192.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="512x512" href="./favicon-512x512.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="256x256" href="./favicon-256x256.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="192x192" href="./favicon-192x192.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="128x128" href="./favicon-128x128.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="96x96" href="./favicon-96x96.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="64x64" href="./favicon-64x64.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="48x48" href="./favicon-48x48.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="512x512" href="./logo_512.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="128x128" href="./logo_128.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="32x32" href="./logo_32.png?v=1.6.1">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png?v=1.6.1">
<link rel="icon" href="./favicon.ico?v=1.6.1" type="image/x-icon"> 
<link rel="icon" sizes="512x512" href="./android-chrome-512x512.png?v=1.6.1">
<link rel="manifest" href="./site.webmanifest?v=1.6.1">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="LEXITRON">

<link rel="stylesheet" href="./style.css?v=1.6.3-1758932002">

  
  
  <!-- ============================ SOCIAL PREVIEW ============================ -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="LEXITRON ¬∑ —É—á–∏—Ç–µ —Å–ª–æ–≤–∞ –ª–µ–≥–∫–æ">
  <meta property="og:description" content="–ö–∞—Ä—Ç–æ—á–∫–∏, –±—ã—Å—Ç—Ä—ã–µ —Å–µ—Å—Å–∏–∏, –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –£—á–∏—Ç–µ –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏.">
  <meta property="og:image" content="./og-image.png?v=1.6.1">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="LEXITRON ¬∑ —É—á–∏—Ç–µ —Å–ª–æ–≤–∞ –ª–µ–≥–∫–æ">
  <meta name="twitter:description" content="–ö–∞—Ä—Ç–æ—á–∫–∏, –±—ã—Å—Ç—Ä—ã–µ —Å–µ—Å—Å–∏–∏, –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –£—á–∏—Ç–µ –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏.">
  <meta name="twitter:image" content="./og-image.png?v=1.6.1">

<style id="modal-inline-fix-1.6.3-1758932002">
/* Critical inline for iOS cache issues ‚Äî v1.6.3-1758932002 */
.modal .modalHeader{display:flex!important;align-items:center!important;justify-content:space-between!important;padding:14px 14px!important;border-bottom:1px solid rgba(255,255,255,.08)!important}
.modal .modalHeader .modalTitle{margin:0!important;font-size:20px!important;font-weight:700!important;line-height:1.2!important}
.modal .iconBtn.small{width:32px!important;height:32px!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;font-size:18px!important;border-radius:8px!important;background:transparent!important;border:1px solid rgba(255,255,255,.08)!important;opacity:.9!important}
#modal .modalBody{padding-bottom:0px!important}
#modal .dictList{padding-bottom:14px!important}
#modal .dictList > *:last-child{margin-bottom:8px!important}
</style>

  <script src="debug.js"></script>
</head>
<body>

<header>
    <div class="brand">
      <img class="logo-mark"
           src="./logo_32.png?v=1.6.1"
           srcset="./logo_64.png?v=1.6.1 2x, ./logo_128.png?v=1.6.1 4x, ./logo_256.png?v=1.6.1 8x"
           alt="LEXITRON" width="28" height="28"
           decoding="async" loading="eager"/>
      <div class="title-wrap">
        <h1 id="title">Lexitron <span class="ver" id="appVer"></span></h1>
        <div class="tagline" id="tagline">–û–Ω –Ω–∞—É—á–∏—Ç!</div>
      </div>
    </div>
    <div class="controls">
      <button id="themeToggleBtn" class="iconBtn" title="–¢–µ–º–∞" aria-label="–¢–µ–º–∞">üåû</button>
      <button id="langToggleBtn"  class="iconBtn" title="–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞" aria-label="–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">üá∫üá¶</button>
      <button id="dictsBtn"       class="iconBtn gear" title="–°–ª–æ–≤–∞—Ä–∏" aria-label="–°–ª–æ–≤–∞—Ä–∏">üìö</button>
    </div>
  </header>

<div id="dictActiveTitle" class="dictActiveTitle" aria-live="polite"></div>
  <div id="setsBar" class="setsBar" aria-label="Sets"></div>
  <div id="setStats" class="setStats statsBar" aria-live="polite"></div>

<main>
    <section class="card">
      <div class="topRow">
        <div class="stars" id="stars"></div>
        <button id="favBtn" class="heart" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">‚ô°</button>
      </div>

      <div class="word" id="wordText">‚Äî</div>
      <div class="hint" id="hintText">‚Äî</div>

      <div class="options" id="optionsRow"></div>

      <div class="statsBar" id="statsBar">
        –í—Å–µ–≥–æ —Å–ª–æ–≤: 0 / –ò–∑—É—á–µ–Ω–Ω–æ: 0 / –û—à–∏–±–æ–∫: 0
      </div>
    </section>
  
    <div class="extraActions" aria-label="Extra actions">
      <button id="btnInfo" class="iconBtn" title="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è" aria-label="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è">‚ÑπÔ∏è</button>

      
      <a id="btnDonate"
         class="iconBtn"
         title="–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç"
         aria-label="Donate"
         href="https://www.paypal.com/donate/?hosted_button_id=RE266F9LTU7F2"
         target="_blank"
         rel="noopener">
         üí∞
      </a>
      <button id="btnSettings"
         class="iconBtn"
         title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
         aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
         data-i18n-title="settingsTitle"
         data-i18n-aria="settingsTitle">‚öôÔ∏è</button>
      
    </div>

    <!-- Info modal with footer OK in same style as Dicts modal -->
    <div id="infoModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="infoTitle">
      <div class="modalFrame">
        <div class="modalHeader">
          <div class="modalTitle" id="infoTitle">Info</div>
<!-- Settings modal (empty content for now) -->
    
      <div class="modalBody">
        <p data-i18n="settingsEmpty">–¢—É—Ç –ø–æ—è–≤—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. (–°–∫–æ—Ä–æ)</p>
      </div>
      <div class="modalActions">
        <button class="btnOk" data-i18n="ok">OK</button>
      </div>
    </div>

          <button class="iconBtn small" id="infoClose" aria-label="Close">‚úñÔ∏è</button>
        </div>
        <div class="modalBody">
          <div id="infoContent" class="infoContent"></div>
        </div>
        <div class="modalActions" style="text-align:center">
          <button id="infoOk" class="primary">OK</button>
        </div>
      </div>
    </div>
  
  <div id="motivation" class="motivation"></div>
</main>

<footer>
    <div class="copyright">¬© All rights reserved ¬∑ <span id="copyYear"></span></div>
  </footer>

  <!-- Dicts modal -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="backdrop" id="backdrop"></div>
  <div class="dialog">
    <!-- –®–∞–ø–∫–∞ -->
    <div class="modalHeader">
      <h2 class="modalTitle" id="modalTitle">–°–ª–æ–≤–∞—Ä–∏</h2>
      <button id="modalClose" class="iconBtn small" aria-label="Close">‚úñÔ∏è</button>
    </div>

    <!-- –¢–µ–ª–æ -->
    <div class="modalBody">
      <div id="langFlags" class="flagsRow" style="display:flex;gap:10px;align-items:center;justify-content:center;margin:10px 10px 10px;"></div>
      <div class="field">
        <div class="dictList" id="dictList"></div>
      </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <div class="modalActions" style="text-align:center">
      <button id="okBtn" class="primary">OK</button>
    </div>
  </div>
</div>

<script src="i18n.js?v=1.6.1"></script>
  <script src="dicts.js?v=1.6.3-1758932002"></script>

  
  <script src="deck.de.js?v=1.6.1"></script>
  <script src="deck.sr.js?v=1.6.1"></script>
  <script src="deck.en.js?v=1.6.1"></script>
  <script src="deck.fr.js?v=1.6.1"></script>
  <script src="deck.es.js?v=1.6.1"></script>

<script src="app.core.js?v=1.6.1"></script>
<script src="app.decks.js?v=1.6.1"></script>
<script src="theme.js?v=1.6.1"></script>
<script src="app.trainer.js?v=1.6.1"></script>
<script src="app.mistakes.js?v=1.6.1"></script>
<script src="app.favorites.js?v=1.6.1"></script>
<script src="app.ui.view.js?v=1.6.3-1758932002"></script>
<script src="ui.options.safe.js?v=1.6.1"></script>
<script src="ui.setup.modal.js?v=1.6.3-1758932002"></script>

<script src="ui.bus.js?v=1.6.1"></script>
<script src="ui.state.js?v=1.6.1"></script>
<script src="ui.sets.js?v=1.6.1"></script>
<script src="ui.progress.scope.js?v=1.6.1"></script>
<script src="ui.stats.core.js?v=1.6.1"></script>
<script src="ui.lifecycle.js?v=1.6.1"></script>
<script src="ui.sets.done.js?v=1.6.1"></script>
<script src="ui.fix.js?v=1.6.1"></script>


  <!-- --------------------------  –ö –û –ù –ï –¶  --------------------------- -->
<div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle" hidden>
      <div class="modalHeader">
        <h3 class="modalTitle" id="settingsTitle" data-i18n="settingsTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <button class="modalClose" aria-label="Close">√ó</button>
      </div>
<script>
(function(){
  var _scrollY = 0;
  function lockScroll(){
    _scrollY = window.scrollY || document.documentElement.scrollTop || 0;
    document.documentElement.classList.add('modal-open');
    document.body.classList.add('modal-open');
    document.body.style.top = (-_scrollY) + 'px';
  }
  function unlockScroll(){
    document.documentElement.classList.remove('modal-open');
    document.body.classList.remove('modal-open');
    document.body.style.top = '';
    window.scrollTo(0, _scrollY || 0);
  }
  window.__LXR_lockScroll = lockScroll;
  window.__LXR_unlockScroll = unlockScroll;

  // Wire generic handlers for all .modal elements
  document.addEventListener('click', function(e){
    var t = e.target;
    if (!t) return;
    var modal = t.closest && t.closest('.modal');
    if (modal){
      if (t.classList.contains('modalClose') || t.classList.contains('btnOk') || t===modal){
        // close one
        if (!modal.hasAttribute('hidden')) {
          modal.setAttribute('hidden','');
          // if no other modals open, unlock
          if (!document.querySelector('.modal:not([hidden])')) window.__LXR_unlockScroll();
        }
      }
    }
  }, true);

  // When any script shows a modal (by removing [hidden]), lock scroll
  var mo = new MutationObserver(function(muts){
    var anyOpen = !!document.querySelector('.modal:not([hidden])');
    if (anyOpen) window.__LXR_lockScroll(); else window.__LXR_unlockScroll();
  });
  mo.observe(document.body, { attributes:true, attributeFilter:['hidden'], subtree:true });
})();
</script>
<script>
(function(){
  var settingsBtn = document.getElementById('btnSettings');
  var settingsModal = document.getElementById('settingsModal');
  if (settingsBtn && settingsModal){
    settingsBtn.addEventListener('click', function(e){
      e.preventDefault();
      document.querySelectorAll('.modal').forEach(function(m){ m.setAttribute('hidden',''); });
      try{ window.hydrateI18N && window.hydrateI18N(); }catch(_){}
      settingsModal.removeAttribute('hidden');
    });
  }
})();
</script>
</body>
</html>
